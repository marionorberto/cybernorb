<app-top-navbar></app-top-navbar>

<section class="mt-7">
  <div class="border-b-2 border-zinc-300 my-3 pb-1 mx-14">
    <h3 class="text-slate-600 font-bold text-4xl">Community</h3>
    <h5 class="text-zinc-400 text-sm mt-1">
      Most highlighted people's interactions on cybernorb
    </h5>
  </div>
  <app-modal-large [cardProfileData]="dataToCardProfile">
    <app-single-post></app-single-post>
  </app-modal-large>
  <section class="mx-14 mt-14">
    <div class="card">
      <p-carousel
        [value]="postUsers"
        [numVisible]="7"
        [numScroll]="1"
        [circular]="true"
        [responsiveOptions]="responsiveOptions"
      >
        <ng-template let-post pTemplate="item">
          <div
            class="hover:brightness-75 cursor-pointer border-1 surface-border border-round p-3"
          >
            <div
              (click)="onShowCardDialog(true)"
              class="card-best-interations w-48 h-64 p-4 bg-slate-50 rounded-md shadow-sm flex flex-col justify-between items-start"
            >
              <h4 class="bg-slate-700 text-white">{{ post.content }}</h4>

              <div class="flex justify-center items-center gap-2">
                <img
                  src="{{ post.image }}"
                  alt=""
                  class="w-8 h-8 rounded-full"
                />
                <span class="text-white">{{ post.username }}</span>
              </div>
            </div>
          </div>
        </ng-template>
      </p-carousel>
    </div>
  </section>
  <section class="w-full px-14 my-14 flex justify-center items-stretch gap-3">
    <div
      class="w-[80%] rounded-md flex flex-col justify-start items-center gap-4 p-2 pt-0"
    >
      <app-card-community-posts
        *ngFor="let card of commnunityPost"
        [cardData]="card"
      ></app-card-community-posts>
      <div class="self-end">
        <button
          class="rounded-sm bg-slate-700 px-4 py-2 font-semibold text-white hover:-translate-y-[2px] transition duration-75 ease-in-out"
        >
          Next Page <i class="bi bi-chevron-right font-semibold"></i>
        </button>
      </div>
    </div>
    <div
      class="ms-2 w-[20%] flex flex-col gap-3 justify-stretch items-center bg-white"
    >
      <div
        class="relative p-4 border-[1px] border-zinc-100 shadow-sm rounded-sm w-full"
      >
        <div class="flex justify-between items-center mb-1">
          <span class="text-zinc-300">Total Posts</span>
          <h4 class="font-semibold text-slate-800">3,456</h4>
        </div>
        <div class="flex justify-between items-center mb-1">
          <span class="text-zinc-300">Total Topics</span>
          <h4 class="font-semibold text-slate-800">56</h4>
        </div>
        <div class="flex justify-between items-center mb-3">
          <span class="text-zinc-300">Total Members</span>
          <h4 class="font-semibold text-slate-800">7,480</h4>
        </div>
        <hr />
        <h4 class="text-black font-semibold my-3">New Members</h4>
        <div class="flex justify-start items-center gap-2">
          <span class="text-zinc-400 italic">+33</span>
          <div class="relative flex">
            <img
              src="https://randomuser.me/api/portraits/thumb/men/33.jpg"
              alt=""
              class="w-8 h-8 rounded-full z-50 shadow-md"
            />
            <img
              src="https://randomuser.me/api/portraits/thumb/men/34.jpg"
              alt=""
              class="w-8 h-8 rounded-full z-40 absolute -right-6 shadow-md"
            />
            <img
              src="https://randomuser.me/api/portraits/thumb/women/79.jpg"
              alt=""
              class="w-8 h-8 rounded-full z-30 absolute -right-11 shadow-md"
            />
            <img
              src="https://randomuser.me/api/portraits/thumb/men/36.jpg"
              alt=""
              class="w-8 h-8 rounded-full z-20 absolute -right-16 shadow-md"
            />
            <img
              src="https://randomuser.me/api/portraits/thumb/women/37.jpg"
              alt=""
              class="w-8 h-8 rounded-full z-10 absolute -right-20 shadow-md"
            />
          </div>
        </div>
      </div>
      <div
        class="p-4 border-[1px] bg-white border-zinc-100 shadow-sm rounded-sm w-full"
      >
        <h3 class="text-base text-zinc-400">Posts Increasing</h3>
        <h4 class="text-black font-bold">Weekly</h4>

        <div
          class="my-4 border-[5px] border-zinc-100 h-28 w-28 p-5 mx-auto rounded-full flex justify-center items-center"
        >
          <div class="card flex justify-content-center">
            <p-knob
              [(ngModel)]="knockValue"
              valueTemplate="{{ knockValue }}%"
            />
          </div>
        </div>
      </div>
      <hr class="my-6 w-full" />
      <span class="text-zinc-300 me-auto pb-2">Ads</span>
      <section
        (mouseenter)="onShowVisitPageFirstAdEnter()"
        (mouseleave)="onShowVisitPageFirstAdLeave()"
        class="relative hover:brightness-50 cursor-pointer bg-black w-64 h-72 flex flex-col justify-center items-center"
      >
        <a
          *ngIf="showVisitPageFirstAd"
          href="www.facebook.com"
          class="text-white absolute left-16 bottom-1/2 underline font-semibold text-nowrap hover:text-slate-600"
          >Visit the page</a
        >
        <video
          class="w-64 h-72 rounded-md"
          autoplay
          src="../../../assets/video/ad-video-1.mp4"
        ></video>
      </section>
      <section
        (mouseenter)="onShowVisitPageFirstAdEnter()"
        (mouseleave)="onShowVisitPageFirstAdLeave()"
        class="relative hover:brightness-50 cursor-pointer bg-black w-64 h-72 flex flex-col justify-center items-center"
      >
        <a
          *ngIf="showVisitPageFirstAd"
          href="www.facebook.com"
          class="text-white absolute left-16 bottom-1/2 underline font-semibold text-nowrap hover:text-slate-600"
          >Visit the page</a
        >
        <video
          class="w-64 h-72 rounded-md"
          autoplay
          src="../../../assets/video/ad-video-1.mp4"
        ></video>
      </section>
    </div>
  </section>

  <section class="flex justify-evenly items-center bg-zinc-50 mt-56 h-[30rem]">
    <div>
      <h3 class="font-bold text-4xl text-slate-800">
        See what people say <br />
        about CyberNorb.
      </h3>
      <p
        class="text-light text-lg text-zinc-400 w-[28rem] my-3 h-20 overflow-y-hidden"
      >
        "{{ frontPosition.testimony }}"
      </p>

      <div class="flex justify-start items-center gap-1">
        <div class="h-8 w-8 rounded-full bg-slate-100"></div>
        <div class="h-8 w-8 rounded-full bg-slate-300"></div>
        <div class="h-8 w-8 rounded-full bg-slate-500"></div>
      </div>
    </div>
    <div class="flex flex-col justify-center items-center gap-3">
      <div class="flex justify-center items-center gap-0">
        <div class="bg-slate-400 rounded-full h-44 w-44 -me-5 z-10">
          <img src="{{ urlImgLeft }}" alt="" class="rounded-full h-44 w-44" />
        </div>
        <div
          class="bg-slate-400 rounded-full h-56 w-56 border-[6px] border-white z-20"
        >
          <img src="{{ urlImgCenter }}" alt="" class="rounded-full h-56 w-56" />
        </div>
        <div class="bg-slate-400 rounded-full h-44 w-44 -ms-5 z-10">
          <img src="{{ urlImgRight }}" alt="" class="rounded-full h-44 w-44" />
        </div>
      </div>
      <div>
        <h2 class="text-slate-800 text-center font-bold text-2xl">
          {{ frontPosition.name }}
        </h2>
        <h4 class="text-slate-700 text-center">{{ frontPosition.job }}</h4>
      </div>

      <div class="flex justify-center items-center gap-3">
        <div
          (click)="handleChosenTestimony('left')"
          class="bg-slate-200 h-3 w-16 cursor-pointer rounded-md {{
            activeTestimony == 'left' ? 'h-4 bg-slate-400' : ''
          }}"
        ></div>
        <div
          (click)="handleChosenTestimony('center')"
          class="bg-slate-200 h-3 w-16 cursor-pointer rounded-md {{
            activeTestimony == 'center' ? 'h-4 bg-slate-400' : ''
          }}"
        ></div>
        <div
          (click)="handleChosenTestimony('right')"
          class="bg-slate-200 h-3 w-16 cursor-pointer rounded-md {{
            activeTestimony == 'right' ? 'h-4 bg-slate-400' : ''
          }}"
        ></div>
      </div>
    </div>
  </section>
</section>

<app-footer></app-footer>
